<script>
import {ref} from "vue";
import {loadSettings, saveSettings} from "./useSettings";
import {useMessage} from "naive-ui";

export default {
  name: "Settings",
  setup() {
    const settingsData = ref(loadSettings())
    const message = useMessage()

    const onFormDataChange = () => {
      saveSettings(settingsData.value)
      message.info("ä¿å­˜æˆåŠŸ")
    }

    return {
      formRef: ref(null),
      settingsData,
      onFormDataChange,
    }
  }
}
</script>

<template>
  <h2>å¸¸ç”¨è®¾ç½®<small>(å·¥ä½œå¥½ç´¯ï¼Œæ‡’å¾—å•ç‹¬åŠ ç®¡ç†é¡µé¢äº†ğŸ¤¦)</small></h2>
  <div>
    <n-form
        size="small"
        inline
        :model="settingsData"
        :ref="formRef"
    >
      <n-form-item :key="settingsData.middleWithShift">
        <n-checkbox
            v-model:checked="settingsData.middleWithShift"
            label="é¼ æ ‡ä¸­é”®éœ€è¦æ­é…shift(é¿å…å’Œutoolsçš„è¶…çº§é¢æ¿å†²çª)" @update-checked="onFormDataChange"/>
      </n-form-item>
    </n-form>
  </div>
</template>
